# AcousticGPS Recorder (Latest Version)

## ✅ 功能更新紀錄

本版本針對錄音與 GPS 整合，新增以下功能與修正：

---

### 🛠️ 主要修正項目

1. **GPS Fix 條件調整**
   - 原條件：必須 `$GPGGA` 中 fix status = 1 才開始錄音
   - 🆕 現在改為：只要偵測到衛星數 **達到 4 顆以上** 即視為 GPS fix 成功，提升彈性與穩定性

2. **避免錄音與 GPS 佔用 /dev/serial0 衝突**
   - 啟動時加入清除 `gpsd`、釋放序列埠的處理，避免錄音與 GPS 無法並行

3. **自動循環紀錄（每組 60 秒）**
   - 程式將在 fix 後自動錄音與紀錄 GPS，60 秒為單位，自動重複

---

## 🚀 使用方法

```bash
chmod +x run.sh
./run.sh
```

---

## 🧾 檔案說明

| 檔名               | 說明                                |
|--------------------|-------------------------------------|
| `record_with_gps.py` | 主程式，控制錄音與 GPS 紀錄         |
| `run.sh`            | 啟動腳本，自動清理 /dev/serial0 並執行 |
| `README.md`         | 本說明文件                          |

---

## 📌 注意事項

- 請在戶外等可見天區測試，以便快速 GPS fix
- 若錄音無聲，請檢查 HAT 是否驅動正確
- 若仍無法 GPS fix，可延長等待秒數或改回 status 判斷

